# tests_bot_scenarios

Сценарии тестирования **бота (aiogram v3)** в формате YAML.
Стиль — коротко, по делу. Один элемент = одна проверка.

## Файлы
- `bot_scenarios.yaml` — список сценариев (ID, описание, категория, приоритет).

## Правила
1. Работаем **по одной задаче** из одного пункта: выбрали сценарий → пишем тест → реализуем код.
2. Любая правка, затрагивающая уже протестированную логику — **сначала тест**, потом код.
3. Идентификаторы: `B<категория>.<порядковый>`, напр. `B3.1`.
4. Приоритеты: `critical` / `high` / `normal` / `low`.

## Рекомендации по реализации тестов
- Юзать `pytest` + `pytest-asyncio` для асинхронных хендлеров бота.
- Для сценариев B3/B4 полагаться на уже проверенную логику Django (инвойсы/вебхуки) — бот получает факты из БД/HTTP.
- Для B7 (многоботность) запускать бота с разными `BOT_ID` и тестовыми БД данными.

## Дальше
Подтверждаем список — и поочередно переносим каждый сценарий в автоматические тесты.
